(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},25:function(e,t,a){},32:function(e,t,a){e.exports=a(50)},37:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(14),o=a.n(i),c=(a(37),a(18)),r=a.n(c);a(25);var s=a(5);var u=function(){return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement("img",{src:r.a,className:"App-logo",alt:"logo"}),l.a.createElement("p",null,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),l.a.createElement("a",{className:"App-link",onClick:function(){return s.c.push("/login")},target:"_blank",rel:"noopener noreferrer"},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e")))},h=a(7),d=a(8),m=a(10),p=a(9),k=a(3),f=a(11),v=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).updatePoints=a.updatePoints.bind(Object(k.a)(a)),a.AddRow=a.AddRow.bind(Object(k.a)(a)),a.Addpoints=a.Addpoints.bind(Object(k.a)(a)),a.state={head_names:["X","Y","R","Hit"],rows:[]},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"AddRow",value:function(e,t,a,n){var l=this.state.rows,i=parseFloat(e).toFixed(3),o=parseFloat(t).toFixed(3);l.push([i,o,a,n]),this.setState({rows:l})}},{key:"updatePoints",value:function(e){var t=this;this.state.rows.map((function(a){a[2]===e?t.props.updateData(a[0],a[1],a[2],a[3]):t.props.updateData(a[0],a[1],a[2],"redraw")}))}},{key:"Addpoints",value:function(){var e=this;fetch("http://localhost:20850/load",{method:"Post",headers:{Authorization:"Basic "+localStorage.getItem("Token")}}).then((function(e){return e.json()})).then((function(t){t.map((function(t){return e.AddRow(t.X,t.Y,t.R,t.hit)}))}),(function(e){console.log(e.status+" "+e.responseText)}))}},{key:"render",value:function(){return n.createElement("div",null,n.createElement(b,{head:this.state.head_names,rows:this.state.rows}),n.createElement("hr",null))}}]),t}(n.Component),b=function(e){function t(){return Object(h.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.createElement("table",{className:"superTable"},n.createElement("thead",null,this.genHead()),n.createElement("tbody",null,this.genRow()))}},{key:"genHead",value:function(){return this.props.head.map((function(e,t){return n.createElement("th",{id:"super",key:"th"+t},e)}))}},{key:"genRow",value:function(){return this.props.rows.map((function(e,t){var a=e.map((function(e,a){return n.createElement("td",{id:"super1",key:"td"+t+"_"+a},e)}));return n.createElement("tr",{id:"super2",key:"tr"+t},a)}))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).clicCanvas=a.clicCanvas.bind(Object(k.a)(a)),a.createCanvas=a.createCanvas.bind(Object(k.a)(a)),a.state={R:1,canvas:0,context:0,debug:"false"},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"clicCanvas",value:function(){var e=this,t=this.state.canvas.getBoundingClientRect(),a=t.left,n=t.top,l=window.event,i=l.clientX-a,o=l.clientY-n;this.state.canvas.width;i=(i-150)/130*this.state.R,o=(150-o)/130*this.state.R;var c={X:i,Y:o,R:this.state.R};fetch("http://localhost:20850/send",{method:"Post",headers:{"Content-Type":"application/json",Authorization:"Basic "+localStorage.getItem("Token")},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(t){e.createCanvas(i.toFixed(3),o.toFixed(3),e.state.R,t.hit),e.props.updateData(i.toFixed(3),o.toFixed(3),e.state.R,t.hit)}),(function(e){console.log(e.status+" "+e.responseText)}))}},{key:"createCanvas",value:function(e,t,a,n){this.state.canvas.width;this.state.context.beginPath(),this.state.context.rect(150+e/a*130-2,150-t/a*130-2,4,4),this.state.context.closePath(),"true"===n?(this.state.context.strokeStyle="yellow",this.state.context.fillStyle="yellow"):"redraw"===n?(this.state.context.strokeStyle="grey",this.state.context.fillStyle="grey"):(this.state.context.strokeStyle="red",this.state.context.fillStyle="red"),this.state.context.fill(),this.state.context.stroke()}},{key:"drawCanwas",value:function(e){var t=document.getElementById("canvas1"),a=t.getContext("2d");this.setState({canvas:t,context:a,debug:"true"}),a.clearRect(0,0,t.width,t.height);t.width;this.setState({R:e}),a.beginPath(),a.rect(150,150,130,-130),a.closePath(),a.strokeStyle="blue",a.fillStyle="blue",a.fill(),a.stroke(),a.beginPath(),a.moveTo(150,150),a.arc(150,150,65,-Math.PI/2,-Math.PI,!0),a.closePath(),a.strokeStyle="blue",a.fillStyle="blue",a.fill(),a.stroke(),a.beginPath(),a.moveTo(215,150),a.lineTo(150,150),a.lineTo(150,280),a.lineTo(215,150),a.closePath(),a.strokeStyle="blue",a.fillStyle="blue",a.fill(),a.stroke(),a.beginPath(),a.font="10px Verdana",a.moveTo(150,0),a.lineTo(150,300),a.moveTo(150,0),a.lineTo(145,15),a.moveTo(150,0),a.lineTo(155,15),a.fillText("Y",160,10),a.moveTo(0,150),a.lineTo(300,150),a.moveTo(300,150),a.lineTo(285,145),a.moveTo(300,150),a.lineTo(285,155),a.fillText("X",290,135),a.moveTo(145,20),a.lineTo(155,20),a.fillText(e,160,20),a.moveTo(145,85),a.lineTo(155,85),a.fillText(e/2,160,78),a.moveTo(145,215),a.lineTo(155,215),a.fillText(-e/2,160,215),a.moveTo(145,280),a.lineTo(155,280),a.fillText(-e,160,280),a.moveTo(20,145),a.lineTo(20,155),a.fillText(-e,20,170),a.moveTo(85,145),a.lineTo(85,155),a.fillText(-e/2,70,170),a.moveTo(215,145),a.lineTo(215,155),a.fillText(e/2,215,170),a.moveTo(280,145),a.lineTo(280,155),a.fillText(e,280,170),a.closePath(),a.strokeStyle="black",a.fillStyle="black",a.stroke()}},{key:"render",value:function(){return n.createElement("canvas",{id:"canvas1",width:"300",height:"300",onClick:this.clicCanvas})}}]),t}(n.Component),E=(a(49),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).updateData=function(e,t,n,l){a.refs.baby.AddRow(e,t,n,l),a.setState({name:"\u0412\u0441\u0435 \u0445\u043e\u0440\u043e\u0448\u043e :)"})},a.updateGraphic=function(e,t,n,l){a.refs.child.createCanvas(e,t,n,l)},a.validate=function(){a.setState({name:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438"})},a.checkValue=a.checkValue.bind(Object(k.a)(a)),a.Send=a.Send.bind(Object(k.a)(a)),a.Load=a.Load.bind(Object(k.a)(a)),a.DrawAll=a.DrawAll.bind(Object(k.a)(a)),a.Click2=a.Click2.bind(Object(k.a)(a)),a.Click1=a.Click1.bind(Object(k.a)(a)),a.updateData=a.updateData.bind(Object(k.a)(a)),a.updateGraphic=a.updateGraphic.bind(Object(k.a)(a)),a.checkR=a.checkR.bind(Object(k.a)(a)),a.logout=a.logout.bind(Object(k.a)(a)),a.state={click1:!1,click2:!1,click3:!1,x:0,y:0,R:0,Hit:"true",name:"\u0412\u0441\u0435 \u0445\u043e\u0440\u043e\u0448\u043e :)",access:"false",draw:"false"},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){fetch("http://localhost:20850/access",{method:"Post",headers:{Authorization:"Basic "+localStorage.getItem("Token")}}).then((function(e){return e.json()})).then((function(e){403===e.status&&s.c.push("/login")}),(function(e){s.c.push("/login")}))}},{key:"checkValue",value:function(e){isNaN(Number(e.target.value.replace(",",".")))||e.target.value.replace(",",".")<-3||e.target.value.replace(",",".")>3||""===e.target.value?this.setState({click3:!1}):this.setState({click3:!0,y:e.target.value})}},{key:"checkR",value:function(e){return e>0?(this.setState({name:"\u0412\u0441\u0435 \u0445\u043e\u0440\u043e\u0448\u043e :)"}),!0):(this.setState({name:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u0440\u0430\u0434\u0438\u0443\u0441",click2:!1}),!1)}},{key:"Click1",value:function(e){this.setState({click1:!0,x:e.target.value})}},{key:"Click2",value:function(e){this.checkR(e.target.value)&&(this.setState({click2:!0,R:e.target.value}),this.refs.child.drawCanwas(e.target.value),this.refs.baby.updatePoints(e.target.value),this.setState({name:"\u0412\u0441\u0435 \u0445\u043e\u0440\u043e\u0448\u043e :)"}))}},{key:"Send",value:function(){var e=this;if(!0===this.state.click1&&!0===this.state.click2&&!0===this.state.click3){var t={X:this.state.x,Y:this.state.y,R:this.state.R};fetch("http://localhost:20850/send",{method:"Post",headers:{"Content-Type":"application/json",Authorization:"Basic "+localStorage.getItem("Token")},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){"false"===t.error?(e.refs.child.createCanvas(e.state.x,e.state.y,e.state.R,t.hit),e.refs.baby.AddRow(e.state.x,e.state.y,e.state.R,t.hit)):e.setState({name:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438"})}),(function(e){console.log(e.status+" "+e.responseText)})),this.setState({name:"\u0412\u0441\u0435 \u0445\u043e\u0440\u043e\u0448\u043e :)"})}else this.setState({name:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 Y \u043e\u0442 -3 \u0434\u043e 3. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0447\u0442\u043e \u0432\u044b\u0431\u0440\u0430\u043b\u0438 X \u0438 R"})}},{key:"logout",value:function(){fetch("http://localhost:20850/exit",{method:"Post",headers:{Authorization:"Basic "+localStorage.getItem("Token")}}).then((function(e){return e.json()})).then((function(e){localStorage.clear(),s.c.push("/login")}),(function(e){console.log(e.status+" "+e.responseText)}))}},{key:"DrawAll",value:function(){this.checkR(this.state.R)&&this.refs.baby.updatePoints(this.state.R)}},{key:"Load",value:function(){"false"===this.state.draw&&(this.refs.child.drawCanwas(1),this.setState({draw:"true",R:1})),this.refs.baby.Addpoints()}},{key:"render",value:function(){return n.createElement("div",{id:"wanwas"},n.createElement("div",null,n.createElement(y,{ref:"child",updateData:this.updateData})),n.createElement("div",{align:"center"},"Parameter X",n.createElement("br",null),n.createElement("label",null,"-3",n.createElement("input",{type:"radio",name:"radio1",value:"-3",onClick:this.Click1})),n.createElement("label",null,"-2",n.createElement("input",{type:"radio",name:"radio1",value:"-2",onClick:this.Click1})),n.createElement("label",null,"-1",n.createElement("input",{type:"radio",name:"radio1",value:"-1",onClick:this.Click1})),n.createElement("label",null,"0",n.createElement("input",{type:"radio",name:"radio1",value:"0",onClick:this.Click1})),n.createElement("label",null,"1",n.createElement("input",{type:"radio",name:"radio1",value:"1",onClick:this.Click1})),n.createElement("label",null,"2",n.createElement("input",{type:"radio",name:"radio1",value:"2",onClick:this.Click1})),n.createElement("label",null,"3",n.createElement("input",{type:"radio",name:"radio1",value:"3",onClick:this.Click1}))),n.createElement("div",{align:"center"},n.createElement("label",null,"Parameter Y",n.createElement("br",null),n.createElement("input",{type:"text",onChange:this.checkValue}))),n.createElement("div",{align:"center"},"Parameter R",n.createElement("br",null),n.createElement("label",null,"-3",n.createElement("input",{type:"radio",name:"radio2",value:"-3",onClick:this.Click2})),n.createElement("label",null,"-2",n.createElement("input",{type:"radio",name:"radio2",value:"-2",onClick:this.Click2})),n.createElement("label",null,"-1",n.createElement("input",{type:"radio",name:"radio2",value:"-1",onClick:this.Click2})),n.createElement("label",null,"0",n.createElement("input",{type:"radio",name:"radio2",value:"0",onClick:this.Click2})),n.createElement("label",null,"1",n.createElement("input",{type:"radio",name:"radio2",value:"1",onClick:this.Click2})),n.createElement("label",null,"2",n.createElement("input",{type:"radio",name:"radio2",value:"2",onClick:this.Click2})),n.createElement("label",null,"3",n.createElement("input",{type:"radio",name:"radio2",value:"3",onClick:this.Click2}))),n.createElement("div",{align:"center"},n.createElement("input",{type:"button",value:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",onClick:this.Send}),n.createElement("input",{type:"button",value:"\u0412\u044b\u0439\u0442\u0438",onClick:this.logout}),n.createElement("input",{type:"button",value:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",onClick:this.Load}),n.createElement("input",{type:"button",value:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435",onClick:this.DrawAll}),n.createElement("p",null,this.state.name)),n.createElement("div",{id:"scroll"},n.createElement(v,{ref:"baby",updateData:this.updateGraphic})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).Back=a.Back.bind(Object(k.a)(a)),a.RegisterError=a.RegisterError.bind(Object(k.a)(a)),a.state={liked:!1,name:""},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"CheckNick",value:function(e){return!(null==e||""===e||" "===e||"undefined"===typeof e)}},{key:"componentDidMount",value:function(){fetch("http://localhost:20850/access",{method:"Post",headers:{Authorization:"Basic "+localStorage.getItem("Token")}}).then((function(e){return e.json()})).then((function(e){403===e.status?s.c.push("/login"):s.c.push("/app")}),(function(e){s.c.push("/login")}))}},{key:"RestApiSign",value:function(){var e=this;if(this.CheckNick(document.getElementById("Nickname").value)&&this.CheckNick(document.getElementById("Password").value)){var t={Nickname:document.getElementById("Nickname").value,Password:document.getElementById("Password").value};fetch("http://localhost:20850/login",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){"true"===t.may?(localStorage.setItem("Token",t.token),s.c.push("/app")):e.Back("\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0438\u043c\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")}),(function(e){console.log(e.status+" "+e.responseText)}))}else this.setState({name:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u044f \u0430\u0434\u0435\u043a\u0432\u0430\u0442\u043d\u043e"})}},{key:"RegisterError",value:function(){this.setState({name:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u0443\u0434\u0430\u043b\u0430\u0441\u044c"})}},{key:"RestApiRegister",value:function(){var e=this;if(this.CheckNick(document.getElementById("Nickname").value)&&this.CheckNick(document.getElementById("Password").value)){var t={Nickname:document.getElementById("Nickname").value,Password:document.getElementById("Password").value};fetch("http://localhost:20850/register",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){"true"===t.may?e.Back("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"):e.RegisterError()}),(function(e){console.log(e.status+" "+e.responseText)}))}else this.setState({name:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u044f \u0430\u0434\u0435\u043a\u0432\u0430\u0442\u043d\u043e"})}},{key:"Register",value:function(){this.setState({liked:!0,name:""})}},{key:"Back",value:function(e){this.setState({liked:!1,name:e})}},{key:"render",value:function(){var e=this;return!0===this.state.liked?n.createElement("div",null,n.createElement("h2",{id:"header"},"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 20226.\u041a\u0443\u0434\u044b\u043c\u043e\u0432 \u0412\u0430\u043b\u0435\u0440\u0438\u0439 \u0438 \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u043d\u0441\u043e\u0432\u0438\u0447.\u0413\u0440\u0443\u043f\u043f\u0430 P3202."),n.createElement("div",{id:"wrapper"},n.createElement("h1",null,"Register"),n.createElement("div",{id:"signin"},n.createElement("input",{autoComplete:"off",id:"Nickname",type:"text",placeholder:"Give me your name"}),n.createElement("input",{autoComplete:"off",id:"Password",type:"text",placeholder:"Give me your password"}),n.createElement("button",{onClick:function(){return e.RestApiRegister()}},"\uf0da"),n.createElement("p",null,n.createElement("a",{onClick:function(){return e.Back("")}},"Back")," "),n.createElement("p",{id:"Error"},this.state.name)))):n.createElement("div",null,n.createElement("h2",{id:"header"},"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 20226.\u041a\u0443\u0434\u044b\u043c\u043e\u0432 \u0412\u0430\u043b\u0435\u0440\u0438\u0439 \u0438 \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0412\u0430\u043d\u0441\u043e\u0432\u0438\u0447.\u0413\u0440\u0443\u043f\u043f\u0430 P3202."),n.createElement("div",{id:"wrapper"},n.createElement("h1",null,"Sign in"),n.createElement("div",{id:"signin"},n.createElement("input",{autoComplete:"off",id:"Nickname",type:"text",placeholder:"Give me your name"}),n.createElement("input",{autoComplete:"off",id:"Password",type:"password",placeholder:"Give me your password"}),n.createElement("button",{onClick:function(){return e.RestApiSign()}},"\uf0da"),n.createElement("p",null,n.createElement("a",{onClick:function(){return e.Register()}},"Register")," "),n.createElement("p",{id:"Error"},this.state.name))))}}]),t}(n.Component);o.a.render(l.a.createElement(s.b,{history:s.c},l.a.createElement(s.a,{path:"/",component:g}),l.a.createElement(s.a,{path:"/login",component:g}),l.a.createElement(s.a,{path:"/app",component:E}),l.a.createElement(s.a,{path:"/*",component:u})),document.getElementById("red"))}},[[32,1,2]]]);
//# sourceMappingURL=main.b1397e36.chunk.js.map